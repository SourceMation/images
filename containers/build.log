[1;32mBuild information for container fluentd[0m
[1;32m-> Container directory: images/fluentd[0m
[1;32mChecking prerequisites[0m
[1;32mTEST_IMAGE is set true[0m
[1;32mPUSH_IMAGE is set false[0m
[1;32mPUSH_README is set false[0m
[1;32m[OK] Command docker is available[0m
[1;32m[OK] File images/fluentd/Dockerfile exists[0m
[1;32m[OK] File images/fluentd/README.md exists[0m
~/workspace/sourcemation/images/containers/images/fluentd ~/workspace/sourcemation/images/containers
[1;32mRunning init.sh - preparing the build[0m
Checking the latest available version of the fluentd
Setup version and ruby-install source in Dockerfile
[1;32minit.sh done[0m
~/workspace/sourcemation/images/containers
~/workspace/sourcemation/images/containers/images/fluentd ~/workspace/sourcemation/images/containers
Look into Dockerfile
[1;32mTrying to get image name from Dockerfile[0m
[1;32mTrying to get image version from Dockerfile[0m
[1;32mChecking if DOCKER_TAG_SUFFIX for multipe tag build is set[0m
[1;32mDOCKER_TAG_SUFFIX is not set. Setting DOCKER_TAG_SUFFIX as empty string[0m
[1;32mIMAGE_NAME fluentd[0m
[1;32mIMAGE_VERSION 1.19.1[0m
~/workspace/sourcemation/images/containers
~/workspace/sourcemation/images/containers/images/fluentd ~/workspace/sourcemation/images/containers
[1;32mBuilding container fluentd[0m
mkdir: cannot create directory â€˜/tmp/docker-build-push/â€™: File exists
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.69kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/sourcemation/debian-13-slim:latest
#2 DONE 0.2s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [ruby 1/2] FROM docker.io/sourcemation/debian-13-slim:latest@sha256:cd71f5e4eb0e4c353c075cf3da7b5ef0e5acd9321efcc4f6c4e9846919cf14c8
#4 CACHED

#5 [ruby 2/2] RUN apt-get update &&     apt-get install --no-install-recommends curl -y &&     mkdir /tmp/ruby-install/ &&     curl -fL -o /tmp/ruby-install.tar.gz https://github.com/postmodern/ruby-install/releases/download/v0.10.1/ruby-install-0.10.1.tar.gz &&     tar -xf /tmp/ruby-install.tar.gz --strip 1 -C /tmp/ruby-install &&     /tmp/ruby-install/bin/ruby-install -i /opt/ruby ruby &&     PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/ruby/bin" &&     gem update --system &&     gem install fluentd -v 1.19.1
#5 0.307 Get:1 http://deb.debian.org/debian trixie InRelease [140 kB]
#5 0.382 Get:2 http://deb.debian.org/debian trixie-updates InRelease [47.3 kB]
#5 0.410 Get:3 http://deb.debian.org/debian-security trixie-security InRelease [43.4 kB]
#5 0.436 Get:4 http://deb.debian.org/debian trixie/main amd64 Packages [9670 kB]
#5 0.700 Get:5 http://deb.debian.org/debian trixie-updates/main amd64 Packages [5412 B]
#5 0.724 Get:6 http://deb.debian.org/debian-security trixie-security/main amd64 Packages [95.5 kB]
#5 1.314 Fetched 10.0 MB in 1s (9210 kB/s)
#5 1.314 Reading package lists...
#5 1.704 Reading package lists...
#5 2.062 Building dependency tree...
#5 2.170 Reading state information...
#5 2.308 The following additional packages will be installed:
#5 2.308   libbrotli1 libcom-err2 libcurl4t64 libffi8 libgnutls30t64 libgssapi-krb5-2
#5 2.309   libidn2-0 libk5crypto3 libkeyutils1 libkrb5-3 libkrb5support0 libldap2
#5 2.309   libnghttp2-14 libnghttp3-9 libp11-kit0 libpsl5t64 librtmp1 libsasl2-2
#5 2.309   libsasl2-modules-db libssh2-1t64 libtasn1-6 libunistring5
#5 2.311 Suggested packages:
#5 2.311   gnutls-bin krb5-doc krb5-user
#5 2.311 Recommended packages:
#5 2.311   bash-completion ca-certificates krb5-locales libldap-common publicsuffix
#5 2.311   libsasl2-modules
#5 2.431 The following NEW packages will be installed:
#5 2.431   curl libbrotli1 libcom-err2 libcurl4t64 libffi8 libgnutls30t64
#5 2.431   libgssapi-krb5-2 libidn2-0 libk5crypto3 libkeyutils1 libkrb5-3
#5 2.431   libkrb5support0 libldap2 libnghttp2-14 libnghttp3-9 libp11-kit0 libpsl5t64
#5 2.432   librtmp1 libsasl2-2 libsasl2-modules-db libssh2-1t64 libtasn1-6
#5 2.432   libunistring5
#5 2.507 0 upgraded, 23 newly installed, 0 to remove and 6 not upgraded.
#5 2.507 Need to get 4907 kB of archives.
#5 2.507 After this operation, 14.8 MB of additional disk space will be used.
#5 2.507 Get:1 http://deb.debian.org/debian trixie/main amd64 libbrotli1 amd64 1.1.0-2+b7 [307 kB]
#5 2.611 Get:2 http://deb.debian.org/debian trixie/main amd64 libkrb5support0 amd64 1.21.3-5 [33.0 kB]
#5 2.612 Get:3 http://deb.debian.org/debian trixie/main amd64 libcom-err2 amd64 1.47.2-3+b7 [25.0 kB]
#5 2.613 Get:4 http://deb.debian.org/debian trixie/main amd64 libk5crypto3 amd64 1.21.3-5 [81.5 kB]
#5 2.616 Get:5 http://deb.debian.org/debian trixie/main amd64 libkeyutils1 amd64 1.6.3-6 [9456 B]
#5 2.616 Get:6 http://deb.debian.org/debian trixie/main amd64 libkrb5-3 amd64 1.21.3-5 [326 kB]
#5 2.661 Get:7 http://deb.debian.org/debian trixie/main amd64 libgssapi-krb5-2 amd64 1.21.3-5 [138 kB]
#5 2.664 Get:8 http://deb.debian.org/debian trixie/main amd64 libunistring5 amd64 1.3-2 [477 kB]
#5 2.706 Get:9 http://deb.debian.org/debian trixie/main amd64 libidn2-0 amd64 2.3.8-2 [109 kB]
#5 2.706 Get:10 http://deb.debian.org/debian trixie/main amd64 libsasl2-modules-db amd64 2.1.28+dfsg1-9 [19.8 kB]
#5 2.707 Get:11 http://deb.debian.org/debian trixie/main amd64 libsasl2-2 amd64 2.1.28+dfsg1-9 [57.5 kB]
#5 2.708 Get:12 http://deb.debian.org/debian trixie/main amd64 libldap2 amd64 2.6.10+dfsg-1 [194 kB]
#5 2.710 Get:13 http://deb.debian.org/debian trixie/main amd64 libnghttp2-14 amd64 1.64.0-1.1 [76.0 kB]
#5 2.711 Get:14 http://deb.debian.org/debian trixie/main amd64 libnghttp3-9 amd64 1.8.0-1 [67.7 kB]
#5 2.712 Get:15 http://deb.debian.org/debian trixie/main amd64 libpsl5t64 amd64 0.21.2-1.1+b1 [57.2 kB]
#5 2.713 Get:16 http://deb.debian.org/debian trixie/main amd64 libffi8 amd64 3.4.8-2 [24.1 kB]
#5 2.713 Get:17 http://deb.debian.org/debian trixie/main amd64 libp11-kit0 amd64 0.25.5-3 [425 kB]
#5 2.734 Get:18 http://deb.debian.org/debian trixie/main amd64 libtasn1-6 amd64 4.20.0-2 [49.9 kB]
#5 2.735 Get:19 http://deb.debian.org/debian trixie/main amd64 libgnutls30t64 amd64 3.8.9-3+deb13u1 [1466 kB]
#5 2.763 Get:20 http://deb.debian.org/debian trixie/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-2+b5 [58.8 kB]
#5 2.763 Get:21 http://deb.debian.org/debian trixie/main amd64 libssh2-1t64 amd64 1.11.1-1 [245 kB]
#5 2.777 Get:22 http://deb.debian.org/debian trixie/main amd64 libcurl4t64 amd64 8.14.1-2+deb13u2 [391 kB]
#5 2.780 Get:23 http://deb.debian.org/debian trixie/main amd64 curl amd64 8.14.1-2+deb13u2 [270 kB]
#5 2.896 debconf: unable to initialize frontend: Dialog
#5 2.896 debconf: (TERM is not set, so the dialog frontend is not usable.)
#5 2.896 debconf: falling back to frontend: Readline
#5 2.896 debconf: unable to initialize frontend: Readline
#5 2.896 debconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC entries checked: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.40.1 /usr/local/share/perl/5.40.1 /usr/lib/x86_64-linux-gnu/perl5/5.40 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl-base /usr/lib/x86_64-linux-gnu/perl/5.40 /usr/share/perl/5.40 /usr/local/lib/site_perl) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 8, <STDIN> line 23.)
#5 2.896 debconf: falling back to frontend: Teletype
#5 2.899 debconf: unable to initialize frontend: Teletype
#5 2.899 debconf: (This frontend requires a controlling tty.)
#5 2.899 debconf: falling back to frontend: Noninteractive
#5 3.327 Fetched 4907 kB in 0s (14.4 MB/s)
#5 3.363 Selecting previously unselected package libbrotli1:amd64.
#5 3.363 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 4935 files and directories currently installed.)
#5 3.365 Preparing to unpack .../00-libbrotli1_1.1.0-2+b7_amd64.deb ...
#5 3.449 Unpacking libbrotli1:amd64 (1.1.0-2+b7) ...
#5 3.518 Selecting previously unselected package libkrb5support0:amd64.
#5 3.519 Preparing to unpack .../01-libkrb5support0_1.21.3-5_amd64.deb ...
#5 3.525 Unpacking libkrb5support0:amd64 (1.21.3-5) ...
#5 3.573 Selecting previously unselected package libcom-err2:amd64.
#5 3.574 Preparing to unpack .../02-libcom-err2_1.47.2-3+b7_amd64.deb ...
#5 3.580 Unpacking libcom-err2:amd64 (1.47.2-3+b7) ...
#5 3.634 Selecting previously unselected package libk5crypto3:amd64.
#5 3.635 Preparing to unpack .../03-libk5crypto3_1.21.3-5_amd64.deb ...
#5 3.642 Unpacking libk5crypto3:amd64 (1.21.3-5) ...
#5 3.698 Selecting previously unselected package libkeyutils1:amd64.
#5 3.700 Preparing to unpack .../04-libkeyutils1_1.6.3-6_amd64.deb ...
#5 3.706 Unpacking libkeyutils1:amd64 (1.6.3-6) ...
#5 3.756 Selecting previously unselected package libkrb5-3:amd64.
#5 3.757 Preparing to unpack .../05-libkrb5-3_1.21.3-5_amd64.deb ...
#5 3.764 Unpacking libkrb5-3:amd64 (1.21.3-5) ...
#5 3.837 Selecting previously unselected package libgssapi-krb5-2:amd64.
#5 3.838 Preparing to unpack .../06-libgssapi-krb5-2_1.21.3-5_amd64.deb ...
#5 3.845 Unpacking libgssapi-krb5-2:amd64 (1.21.3-5) ...
#5 3.898 Selecting previously unselected package libunistring5:amd64.
#5 3.899 Preparing to unpack .../07-libunistring5_1.3-2_amd64.deb ...
#5 3.905 Unpacking libunistring5:amd64 (1.3-2) ...
#5 3.980 Selecting previously unselected package libidn2-0:amd64.
#5 3.980 Preparing to unpack .../08-libidn2-0_2.3.8-2_amd64.deb ...
#5 3.987 Unpacking libidn2-0:amd64 (2.3.8-2) ...
#5 4.031 Selecting previously unselected package libsasl2-modules-db:amd64.
#5 4.032 Preparing to unpack .../09-libsasl2-modules-db_2.1.28+dfsg1-9_amd64.deb ...
#5 4.038 Unpacking libsasl2-modules-db:amd64 (2.1.28+dfsg1-9) ...
#5 4.084 Selecting previously unselected package libsasl2-2:amd64.
#5 4.085 Preparing to unpack .../10-libsasl2-2_2.1.28+dfsg1-9_amd64.deb ...
#5 4.092 Unpacking libsasl2-2:amd64 (2.1.28+dfsg1-9) ...
#5 4.143 Selecting previously unselected package libldap2:amd64.
#5 4.144 Preparing to unpack .../11-libldap2_2.6.10+dfsg-1_amd64.deb ...
#5 4.150 Unpacking libldap2:amd64 (2.6.10+dfsg-1) ...
#5 4.206 Selecting previously unselected package libnghttp2-14:amd64.
#5 4.207 Preparing to unpack .../12-libnghttp2-14_1.64.0-1.1_amd64.deb ...
#5 4.213 Unpacking libnghttp2-14:amd64 (1.64.0-1.1) ...
#5 4.262 Selecting previously unselected package libnghttp3-9:amd64.
#5 4.264 Preparing to unpack .../13-libnghttp3-9_1.8.0-1_amd64.deb ...
#5 4.271 Unpacking libnghttp3-9:amd64 (1.8.0-1) ...
#5 4.334 Selecting previously unselected package libpsl5t64:amd64.
#5 4.336 Preparing to unpack .../14-libpsl5t64_0.21.2-1.1+b1_amd64.deb ...
#5 4.343 Unpacking libpsl5t64:amd64 (0.21.2-1.1+b1) ...
#5 4.394 Selecting previously unselected package libffi8:amd64.
#5 4.396 Preparing to unpack .../15-libffi8_3.4.8-2_amd64.deb ...
#5 4.402 Unpacking libffi8:amd64 (3.4.8-2) ...
#5 4.451 Selecting previously unselected package libp11-kit0:amd64.
#5 4.452 Preparing to unpack .../16-libp11-kit0_0.25.5-3_amd64.deb ...
#5 4.458 Unpacking libp11-kit0:amd64 (0.25.5-3) ...
#5 4.523 Selecting previously unselected package libtasn1-6:amd64.
#5 4.524 Preparing to unpack .../17-libtasn1-6_4.20.0-2_amd64.deb ...
#5 4.531 Unpacking libtasn1-6:amd64 (4.20.0-2) ...
#5 4.583 Selecting previously unselected package libgnutls30t64:amd64.
#5 4.584 Preparing to unpack .../18-libgnutls30t64_3.8.9-3+deb13u1_amd64.deb ...
#5 4.591 Unpacking libgnutls30t64:amd64 (3.8.9-3+deb13u1) ...
#5 4.673 Selecting previously unselected package librtmp1:amd64.
#5 4.674 Preparing to unpack .../19-librtmp1_2.4+20151223.gitfa8646d.1-2+b5_amd64.deb ...
#5 4.680 Unpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b5) ...
#5 4.733 Selecting previously unselected package libssh2-1t64:amd64.
#5 4.734 Preparing to unpack .../20-libssh2-1t64_1.11.1-1_amd64.deb ...
#5 4.740 Unpacking libssh2-1t64:amd64 (1.11.1-1) ...
#5 4.801 Selecting previously unselected package libcurl4t64:amd64.
#5 4.802 Preparing to unpack .../21-libcurl4t64_8.14.1-2+deb13u2_amd64.deb ...
#5 4.808 Unpacking libcurl4t64:amd64 (8.14.1-2+deb13u2) ...
#5 4.864 Selecting previously unselected package curl.
#5 4.866 Preparing to unpack .../22-curl_8.14.1-2+deb13u2_amd64.deb ...
#5 4.873 Unpacking curl (8.14.1-2+deb13u2) ...
#5 4.937 Setting up libkeyutils1:amd64 (1.6.3-6) ...
#5 4.961 Setting up libbrotli1:amd64 (1.1.0-2+b7) ...
#5 4.982 Setting up libnghttp2-14:amd64 (1.64.0-1.1) ...
#5 5.002 Setting up libcom-err2:amd64 (1.47.2-3+b7) ...
#5 5.024 Setting up libkrb5support0:amd64 (1.21.3-5) ...
#5 5.043 Setting up libsasl2-modules-db:amd64 (2.1.28+dfsg1-9) ...
#5 5.062 Setting up libunistring5:amd64 (1.3-2) ...
#5 5.082 Setting up libk5crypto3:amd64 (1.21.3-5) ...
#5 5.101 Setting up libsasl2-2:amd64 (2.1.28+dfsg1-9) ...
#5 5.122 Setting up libnghttp3-9:amd64 (1.8.0-1) ...
#5 5.142 Setting up libffi8:amd64 (3.4.8-2) ...
#5 5.162 Setting up libtasn1-6:amd64 (4.20.0-2) ...
#5 5.181 Setting up libkrb5-3:amd64 (1.21.3-5) ...
#5 5.200 Setting up libssh2-1t64:amd64 (1.11.1-1) ...
#5 5.222 Setting up libldap2:amd64 (2.6.10+dfsg-1) ...
#5 5.242 Setting up libidn2-0:amd64 (2.3.8-2) ...
#5 5.263 Setting up libp11-kit0:amd64 (0.25.5-3) ...
#5 5.285 Setting up libgssapi-krb5-2:amd64 (1.21.3-5) ...
#5 5.307 Setting up libgnutls30t64:amd64 (3.8.9-3+deb13u1) ...
#5 5.328 Setting up libpsl5t64:amd64 (0.21.2-1.1+b1) ...
#5 5.348 Setting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-2+b5) ...
#5 5.368 Setting up libcurl4t64:amd64 (8.14.1-2+deb13u2) ...
#5 5.386 Setting up curl (8.14.1-2+deb13u2) ...
#5 5.407 Processing triggers for libc-bin (2.41-12) ...
#5 5.459   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
#5 5.459                                  Dload  Upload   Total   Spent    Left  Speed
#5 5.459   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
#5 5.522 curl: (77) error setting certificate file: /etc/ssl/certs/ca-certificates.crt
#5 ERROR: process "/bin/sh -c apt-get update &&     apt-get install --no-install-recommends curl -y &&     mkdir /tmp/ruby-install/ &&     curl -fL -o /tmp/ruby-install.tar.gz ${RUBY_INSTALL} &&     tar -xf /tmp/ruby-install.tar.gz --strip 1 -C /tmp/ruby-install &&     /tmp/ruby-install/bin/ruby-install -i /opt/ruby ruby &&     PATH=\"$PATH:/opt/ruby/bin\" &&     gem update --system &&     gem install fluentd -v ${VERSION}" did not complete successfully: exit code: 77
------
 > [ruby 2/2] RUN apt-get update &&     apt-get install --no-install-recommends curl -y &&     mkdir /tmp/ruby-install/ &&     curl -fL -o /tmp/ruby-install.tar.gz https://github.com/postmodern/ruby-install/releases/download/v0.10.1/ruby-install-0.10.1.tar.gz &&     tar -xf /tmp/ruby-install.tar.gz --strip 1 -C /tmp/ruby-install &&     /tmp/ruby-install/bin/ruby-install -i /opt/ruby ruby &&     PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/ruby/bin" &&     gem update --system &&     gem install fluentd -v 1.19.1:
5.181 Setting up libkrb5-3:amd64 (1.21.3-5) ...
5.200 Setting up libssh2-1t64:amd64 (1.11.1-1) ...
5.222 Setting up libldap2:amd64 (2.6.10+dfsg-1) ...
5.242 Setting up libidn2-0:amd64 (2.3.8-2) ...
5.263 Setting up libp11-kit0:amd64 (0.25.5-3) ...
5.285 Setting up libgssapi-krb5-2:amd64 (1.21.3-5) ...
5.307 Setting up libgnutls30t64:amd64 (3.8.9-3+deb13u1) ...
5.328 Setting up libpsl5t64:amd64 (0.21.2-1.1+b1) ...
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
5.522 curl: (77) error setting certificate file: /etc/ssl/certs/ca-certificates.crt
------
Dockerfile:6
--------------------
   5 |     
   6 | >>> RUN apt-get update && \
   7 | >>>     apt-get install --no-install-recommends curl -y && \
   8 | >>>     mkdir /tmp/ruby-install/ && \
   9 | >>>     curl -fL -o /tmp/ruby-install.tar.gz ${RUBY_INSTALL} && \
  10 | >>>     tar -xf /tmp/ruby-install.tar.gz --strip 1 -C /tmp/ruby-install && \
  11 | >>>     /tmp/ruby-install/bin/ruby-install -i /opt/ruby ruby && \
  12 | >>>     PATH="$PATH:/opt/ruby/bin" && \
  13 | >>>     gem update --system && \
  14 | >>>     gem install fluentd -v ${VERSION}
  15 |     
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c apt-get update &&     apt-get install --no-install-recommends curl -y &&     mkdir /tmp/ruby-install/ &&     curl -fL -o /tmp/ruby-install.tar.gz ${RUBY_INSTALL} &&     tar -xf /tmp/ruby-install.tar.gz --strip 1 -C /tmp/ruby-install &&     /tmp/ruby-install/bin/ruby-install -i /opt/ruby ruby &&     PATH=\"$PATH:/opt/ruby/bin\" &&     gem update --system &&     gem install fluentd -v ${VERSION}" did not complete successfully: exit code: 77
